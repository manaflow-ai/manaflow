# Codex CLI configuration for cmux sandbox
approval_policy = "never"
sandbox_mode = "danger-full-access"

# Notification hook calls cmux-bridge to forward notifications to the UI
# The notify command receives JSON payload as first argument; we extract last-assistant-message
notify = [
  "sh",
  "-c",
  "echo \"$1\" | jq -r '.[\"last-assistant-message\"] // \"Awaiting input\"' | xargs -I{} cmux-bridge notify \"Codex: {}\"",
  "--",
]
